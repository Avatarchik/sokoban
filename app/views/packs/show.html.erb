<div id="menu_levels">
  <ul id="packs">
    <li title="<%= @pack.name %>"><%= @pack.name %></li>
  </ul>

  <ul id="levels">
    
    <% # Get all the scores for current_user and levels from this pack %>
    <% won_levels = current_user.scores.where(:level_id => @pack.levels) %>
    <% # Get ids from the levels of these scores. Each of these level is won %>
    <% won_levels_ids = won_levels.collect { |score| score.level_id }.uniq %>
    
    <% @pack.levels.each do |level| %>
      <li>
        <% if won_levels_ids.include?(level.id) %>
          <span class="star icon-star"></span>
        <% else %>
          <span class="star icon-star-empty"></span>
        <% end %>
        <span class="level-id"><%= level.name %></span>
      </li>
    <% end %>
  </ul>
</div>

<canvas id="webgl" width="730" height="470">
  Sorry, your browser doesn't support the &lt;canvas/&gt; tag. Please come back with a newer
  browser.
</canvas>
