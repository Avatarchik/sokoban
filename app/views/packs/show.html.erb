<%= javascript_include_tag 'packs/show' %>

<div id="menu-levels">
  <ul id="packs">
    <li data-pack-name="<%= @pack.name %>"><%= @pack.name %></li>
  </ul>
  
  <ul id="levels" class="levels">
  
    <% won_levels_ids = @pack.won_levels_ids(current_user) %>  
    <% @pack.levels.each_with_index do |level, index| %>
      <% selected = (@selected_level_name == level.name ? 'class="is-selected"' : '') %>
      <li <%= selected.html_safe %> data-level-name="<%= level.name %>" data-level-id="<%= level.id %>" data-level-grid="<%= level.inline_grid_with_floor %>" data-level-width="<%= level.width %>" data-level-height="<%= level.height %>">
        <% if won_levels_ids.include?(level.id) %>
          <span class="star icon-star"></span>
        <% else %>
          <span class="star icon-star-empty"></span>
        <% end %>
        <span class="level-index"><%= index+1 %></span>
      </li>
    <% end %>
    
  </ul>
  
  <div id="level-thumb">
    <div class="level-thumb-text">############sssssssss##ss#s$s#ss##ss.$s$.ss##s..#$s#.s##ss.$s$.ss##ss#s$s#ss##@ssssssss############</div>
    <div class="level-thumb-width">11</div>
    <div class="level-thumb-height">9</div>
    <div id="level-thumb-canvas"></div>
  </div>
</div>

<%= render 'packs/show_webgl_canvas' %>
<%= render 'packs/show_raphael_canvas' %>
<%= render 'packs/show_deadlock_message'%>

<%= render 'packs/current_score' %>

<div style="clear:both"></div>

<div id="scores">
  <%# render @scores %>
</div>
